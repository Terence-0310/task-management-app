<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Task Manager</title>
    <meta name="description" content="Ứng dụng quản lý công việc bằng React + JSON Server" />
    <meta name="theme-color" content="#0b1220" />

    <!-- Icons & PWA -->
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />

    <!-- Open Graph -->
    <meta property="og:title" content="Task Manager" />
    <meta property="og:description" content="Quản lý tasks nhanh, gọn, đẹp." />
    <meta property="og:image" content="%PUBLIC_URL%/og-image.png" />
    <meta property="og:type" content="website" />

    <!-- Fonts (nhanh hơn @import trong CSS) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Minimal fallback styles trong lúc React boot -->
    <style>
      html,
      body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, 'Helvetica Neue',
          Arial, sans-serif;
        color: #e6e9ef;
        background: radial-gradient(
            1200px 600px at 10% -10%,
            rgba(79, 70, 229, 0.25),
            transparent 60%
          ),
          radial-gradient(1000px 500px at 100% 0%, rgba(34, 211, 238, 0.18), transparent 70%),
          linear-gradient(180deg, #0b1220, #111a2e 60%);
      }
      #boot {
        position: fixed;
        inset: 0;
        display: grid;
        place-items: center;
      }
      .dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: #9bdcff;
        box-shadow: 0 0 0 0 rgba(155, 220, 255, 0.7);
        animation: pulse 1.6s infinite;
      }
      @keyframes pulse {
        0% {
          transform: scale(1);
          box-shadow: 0 0 0 0 rgba(155, 220, 255, 0.7);
        }
        70% {
          transform: scale(1.8);
          box-shadow: 0 0 0 12px rgba(155, 220, 255, 0);
        }
        100% {
          transform: scale(1);
          box-shadow: 0 0 0 0 rgba(155, 220, 255, 0);
        }
      }
    </style>
  </head>

  <body>
    <noscript>Bạn cần bật JavaScript để chạy ứng dụng này.</noscript>

    <!-- Fallback loader: sẽ tự ẩn khi React mount -->
    <div id="boot" aria-hidden="true"><div class="dot"></div></div>

    <!-- React sẽ mount vào đây -->
    <div id="root"></div>

    <!-- CRA/Vite sẽ tự chèn bundle JS khi dev/build -->
  </body>
  <script>
    (function () {
      try {
        var saved = localStorage.getItem('tm_theme');
        if (!saved) {
          saved =
            window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
              ? 'dark'
              : 'light';
        }
        document.documentElement.classList.add('js'); // optional
        document.body
          ? (document.body.dataset.theme = saved)
          : document.addEventListener('DOMContentLoaded', function () {
              document.body.dataset.theme = saved;
            });
      } catch (e) {}
    })();
  </script>
</html>
